# Branching Strategy

Source page version: 16

## Prerequisites
- Familiarity with basic Git and GitHub operations
- Access permissions to the relevant GitHub repository
- CI/CD tools configured and integrated with your repository

## Step-by-step Instructions

1. **Use Trunk-Based Development with Release Branches**  
   Develop and collaborate using trunk-based development, creating release branches as needed for deployments.

2. **Maintain the Main Branch**  
   Always keep the `main` branch deployable and stable. This branch is the central source of truth for your codebase.

3. **Create Feature Branches for New Work**  
   When starting new features or bug fixes, create a dedicated branch from `main`.  
   - Use clear, descriptive names (e.g. `feature/add-user-authentication`, `bugfix/fix-login-issue`).

4. **Use Specialty Branches When Required**  
   For workflows like testing or performance optimization, use dedicated branches (e.g. `test/*`, `performance/*`).

5. **Submit Pull Requests for All Changes**  
   When work is complete on a feature or fix, create a pull request to merge your branch into `main`.  
   - Use pull requests for code review and collaboration.

6. **Conduct Code Reviews**  
   Require peers to review pull requests and give feedback.  
   - Utilize GitHubâ€™s code review functionality to streamline this process.

7. **Merge via Pull Request**  
   After approval and resolution of discussions, merge changes into `main` using a merge commit for traceability.

8. **Create Release Branches for Releases**  
   When preparing for deployment, create a branch from `main` (e.g. `release/1.0.0`) for stabilization and testing.

9. **Stabilize and Finalize Releases**  
   Perform bug fixes, optimizations, and final testing on release branches.  
   - Do not introduce new features on release branches.

10. **Publish a Release on GitHub**  
    Once stable, create a GitHub release with appropriate version, notes, and artifacts. Tag the release accordingly.

11. **Implement Branch Protection Rules**  
    - Require pull request reviews before merging into `main` or release branches.
    - Require all status checks (tests, CodeQL, SBOM, static analysis) to pass before merging.
    - Restrict direct push access to `main` and release branches to designated teams or individuals.

12. **Consider Artifact Attestations for Supply Chain Security**  
    - Use artifact attestations to increase transparency and security of builds.

## Warnings or Important Notes
- Never push directly to the `main` or release branches unless specifically authorized.
- Only use release branches for stabilization and not for new feature development.
- Ensure that all automated tests and checks pass before merging any pull request.

## Key Concepts

- **Trunk-Based Development:** A workflow where most work happens on short-lived branches merged back into a single main branch frequently.
- **Feature Branch:** Dedicated branch for implementing a specific feature or fix, created from main.
- **Release Branch:** A branch created from main to prepare for a specific software release; dedicated to bug fixes and testing, not new features.
- **Pull Request:** A GitHub feature for proposing code changes, enabling reviews and discussion before merging.
- **Code Review:** The process where peers examine proposed changes before merging, improving code quality.
- **Branch Protection Rules:** GitHub settings that enforce review and automated checks before changes reach critical branches.
- **Artifact Attestations:** Metadata that helps verify where and how software builds were produced, improving supply chain security.