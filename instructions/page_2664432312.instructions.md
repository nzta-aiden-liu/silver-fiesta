# Branching Strategy

Source page version: 16

## Prerequisites
- Access to a GitHub repository with appropriate permissions.
- Understanding of basic Git and GitHub workflows.
- Familiarity with trunk-based development concepts.

## Step-by-step Instructions

1. **Main Branch Setup**
   - Use the `main` branch as the central source of truth. Always keep it in a deployable state.

2. **Feature/Bugfix Branches**
   - Create a new branch from `main` for each feature or bugfix.
     - Name examples: `feature/add-user-authentication`, `bugfix/fix-login-issue`.
   - Focus the branch on a single task.
   
3. **Specialty Branches**
   - Create branches such as `test/*` or `performance/*` for specialized purposes (details to be documented separately).

4. **Submitting Pull Requests**
   - Open a pull request (PR) when the feature or bugfix is complete.
   - Use the PR for collaboration, discussion, and code review.

5. **Code Review Process**
   - Team members review the PR using GitHubâ€™s review features.
   - Address feedback and make any necessary improvements.

6. **Merge to Main**
   - After approval and resolving all discussions, merge the PR to `main` using a merge commit to retain history.

7. **Release Branch Creation**
   - When preparing a release, create a branch from `main` (e.g., `release/1.0.0`).
   - The release branch is a snapshot for the release version.

8. **Stabilization on Release Branch**
   - Focus on bug fixes, performance optimizations, and testing on the release branch.
   - Do not add new features to the release branch.

9. **Release Creation**
   - Create a GitHub release from the release branch.
   - Specify release version, notes, and artifacts; tag the release.

10. **Artifact Attestation (Optional)**
    - Use artifact attestations to increase supply chain security and document build origins.

11. **Apply Branch Protection Rules**
    - Require PR reviews before merging to main/release branches.
    - Require all status checks (tests, CodeQL, SBOM generation, static analysis) to pass before merging.
    - Restrict direct push access to main and release branches to authorized users/teams.

## Warnings or Important Notes
- Do NOT introduce new features directly onto release branches; focus solely on stabilization.
- Only authorized personnel should push directly to protected branches (main & release).
- Ensure all status checks pass before merging to maintain stability and security.

## Key Concepts

- **Trunk-Based Development:** A source control workflow where most work is collected on a single branch (trunk) to enable rapid integration and reduced merge conflicts.
- **Main Branch:** The primary branch; should always be stable and production-ready.
- **Feature/Bugfix Branch:** A branch created for a single new feature or bugfix.
- **Release Branch:** A branch created from main to prepare and stabilize code for a specific release version.
- **Pull Request (PR):** A GitHub mechanism for proposing, discussing, and reviewing code changes before merging.
- **Code Review:** The process of reviewing code through PRs to ensure quality and consistency.
- **Branch Protection Rules:** Settings that enforce review, CI checks, and restrict pushes to critical branches.
- **Artifact Attestation:** The process of verifying and documenting how and where software artifacts were built for supply chain security.