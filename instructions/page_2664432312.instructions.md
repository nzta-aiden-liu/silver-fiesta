# Branching Strategy

Source page version: 16

## Prerequisites
- Ensure all contributors have appropriate access rights on the GitHub repository.
- Familiarity with git workflow concepts (branches, pull requests, merges).
- Integrated CI/CD pipeline on the repository.
- Knowledge of GitHub Actions and branch protection rules.

## Step-by-step Instructions

1. **Maintain the Main Branch**
    - Always keep the `main` branch in a deployable state with the highest stability.
2. **Create Feature Branches**
    - For new features or bug fixes, create a dedicated branch from `main`.
    - Name branches descriptively (e.g., `feature/add-user-authentication`, `bugfix/fix-login-issue`).
3. **Work on Specialty Branches (if applicable)**
    - Use specialty branches such as `test/*` or `performance/*` for specific tasks.
4. **Open a Pull Request (PR)**
    - When the feature or bugfix is complete, open a PR to merge changes into `main`.
    - Use GitHub's pull request feature for review and discussion.
5. **Conduct a Code Review**
    - Team members must review PRs, provide feedback, and suggest improvements.
    - Use built-in GitHub code review tools.
6. **Merge to Main**
    - Once the PR is approved and discussions resolved, merge changes using a merge commit to maintain history.
7. **Create Release Branches**
    - When ready for a new release, create a branch from `main` named, e.g., `release/1.0.0`.
    - This snapshot serves the specific release version.
8. **Stabilize the Release Branch**
    - Only bug fixes, optimizations, and final testing should occur on the release branch.
    - Do not introduce new features at this stage.
9. **Publish a Release**
    - When stable, create a GitHub release with the version, release notes, and relevant artifacts.
    - Tag the release for easy reference.
10. **Artifact Attestation (Optional)**
    - Use artifact attestations for supply chain security to document software origin and build process.
11. **Implement Branch Protection Rules**
    - Require pull request reviews before merging.
    - Require all CI/CD status checks (tests, CodeQL, SBOM, static analysis) to pass before merging.
    - Restrict push access to `main` and release branches to designated users or teams.

## Warnings or Important Notes
- Never push directly to the `main` or release branches; always use PRs for merging.
- Enforce branch protection rules to maintain codebase integrity and stability.
- Avoid new feature development on release branches.

## Key Concepts

- **Trunk-Based Development**: A workflow where all changes are merged into a central branch (`main`), promoting continuous integration.
- **Release Branch**: A branch created for release preparation and stabilization, separate from active feature development.
- **Feature Branch**: A branch for working on specific features or fixes, created from `main`.
- **Pull Request (PR)**: A GitHub feature to propose, discuss, and review changes before merging.
- **Branch Protection Rules**: Settings that restrict direct changes and enforce code review and CI/CD checks on critical branches.
- **CI/CD Pipeline**: Automated workflows that test, build, and verify code on each PR.
- **Artifact Attestation**: Mechanism to document and verify how and where software artifacts are built, enhancing supply chain security.