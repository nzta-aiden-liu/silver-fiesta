# Branching Strategy

Source page version: 16

## Prerequisites
- Access to the repository on GitHub.
- Familiarity with Git and GitHub fundamentals.
- Appropriate permissions to create branches and submit pull requests.
- CI/CD pipelines configured on the repository.

## Step-by-Step Instructions

1. **Main Branch Maintenance**
   - Treat `main` as the central source of truth.
   - Ensure `main` is always stable and deployable.

2. **Creating Feature/Bugfix Branches**
   - Start a new branch from `main` for each feature or bug fix.
   - Use descriptive branch names: e.g. `feature/add-user-authentication`, `bugfix/fix-login-issue`.
   - Keep branches focused on a single task.

3. **Specialty Branches**
   - For testing or performance work, create branches like `test/*` or `performance/*`.

4. **Submit Pull Requests**
   - When work on your branch is complete, open a pull request (PR) against `main`.
   - Use PRs to facilitate code review and collaboration.

5. **Code Review & Discussion**
   - Collaborate with team members on the PR.
   - Reviewers provide feedback and request changes as necessary.
   - Address all comments before merging.

6. **Merging Approved Pull Requests**
   - Once the PR is approved and discussions are resolved, merge using a merge commit to preserve history.

7. **Release Branches**
   - For releases, create a branch from `main` with a semantic name like `release/1.0.0`.

8. **Stabilization on Release Branches**
   - On the release branch, focus on bug fixes, optimizations, and final testing.
   - Do not introduce new features on release branches.

9. **Creating a GitHub Release**
   - When the release branch is stable, create a GitHub release.
   - Specify version, release notes, and tag the release.
   - Attach necessary artifacts.

10. **Increase Supply Chain Security**
    - Consider using artifact attestations to improve build security.

11. **Implement Branch Protection Rules**
    - Require pull request reviews for merges into `main` and release branches.
    - Require all status checks to pass before merging (tests, CodeQL, SBOM, static analysis).
    - Restrict direct push access to `main` and release branches.

## Warnings or Important Notes
- Never push directly to the `main` branch or release branches.
- All merges into `main` and release branches must go through pull requests with proper reviews.
- Introducing new features on release branches can destabilize deploymentsâ€”avoid it.

## Key Concepts

- **Trunk-Based Development**: A workflow where all developers work on short-lived branches created from the main branch, minimizing merge conflicts and enabling frequent integration.
- **Release Branches**: Stabilized snapshot branches used to prepare code for deployment.
- **Pull Requests (PRs)**: GitHub mechanism for code review and collaboration before merging changes.
- **Branch Protection Rules**: GitHub settings that enforce code review, passing checks, and restrict direct modifications to specific branches.
- **Semantic Versioning**: A versioning scheme using major.minor.patch (e.g., 1.4.2) to communicate changes.
- **Artifact Attestations**: Metadata that increases security by showing how, where, and by whom a build was created.