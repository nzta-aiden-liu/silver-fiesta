# Branching Strategy

Source page version: 16

## Prerequisites
- Access to a GitHub repository.
- Permission to create branches and pull requests.
- Basic familiarity with Git, GitHub, and code review processes.
- CI/CD pipeline integration set up in the repository.

## Step-by-step instructions

1. **Start from the Main Branch**
   - Ensure all development work begins from the `main` branch. This branch should always be in a deployable state.

2. **Create Feature or Bugfix Branches**
   - For new features or bug fixes, create a branch off `main` using descriptive naming conventions, e.g., `feature/add-user-authentication` or `bugfix/fix-login-issue`.

3. **Work on Specialty Branches as Needed**
   - If working on tests or performance improvements, use specialty branches such as `test/*` or `performance/*`.

4. **Push Your Changes**
   - Regularly push your commits to the feature, bugfix, or specialty branch.

5. **Open a Pull Request**
   - Once your work is complete, open a pull request to merge your branch into `main`.

6. **Perform Code Review**
   - Collaborate with team members to review the pull request. Address any feedback prior to merging.

7. **Merge Approved Pull Requests**
   - After approval and resolution of all discussions, merge your branch into `main` using a merge commit for traceability.

8. **Create Release Branches When Ready**
   - To prepare for a release, create a branch from `main`, e.g. `release/1.0.0`.

9. **Stabilize the Release Branch**
   - Perform final bug fixes, performance optimizations, and testing on the release branch. Do not introduce new features on this branch.

10. **Tag and Create GitHub Release**
    - Once stable, create a release on GitHub, annotate with release notes and tag it for version control.

11. **Implement Branch Protection Rules**
    - Enforce pull request reviews before merging into `main` and release branches.
    - Require all status checks (e.g. tests, static analysis, SBOM, CodeQL) to pass before merging.
    - Restrict direct push access to `main` and release branches to designated contributors only.

12. **Consider Artifact Attestations**
    - Optionally, use artifact attestations for increased supply chain security.

## Warnings or Important Notes

- **Do not commit directly to `main` or release branches** unless specifically authorized.
- **Do not introduce new features on release branches**; use only for stabilization and preparation for deployment.
- **Branch protection rules are critical** for stability and compliance: ensure these are always active.

## Key Concepts

- **Trunk-Based Development:** A workflow where all developers work from a single branch (trunk), with short-lived branches for features or fixes.
- **Release Branch:** A branch created from `main` for final testing and bug fixes before a new software release.
- **Pull Request (PR):** A mechanism to review and discuss changes before merging into a protected branch.
- **Code Review:** The process of peer-reviewing pull request changes to ensure code quality and shared understanding.
- **Branch Protection Rules:** GitHub settings that enforce permissions and checks before code can be merged to protected branches.
- **CI/CD Pipeline:** Automated workflows that run tests and validations on proposed changes before they are merged.
- **Artifact Attestation:** Security process to confirm how and where software artifacts were built, increasing supply chain security.