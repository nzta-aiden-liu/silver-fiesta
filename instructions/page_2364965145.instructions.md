# GitHub Actions

Source page version: 3

## Prerequisites

- You must belong to either the NZTA or Connected-Journeys organisations.
- Ensure your workflow is in the list of enterprise-approved (whitelisted) workflows.
- Contact the SRE team to whitelist new workflows if needed.

## Step-by-step instructions

1. Design lightweight CI/CD pipelines:
    - Minimize inline scripts in your workflow YAML files.
    - Move business logic to separate script files or dedicated workflows.
2. Avoid using container-based workflows unless absolutely necessary:
    - Container-based workflows require VM runners.
    - Ephemeral runners on container platforms are not supported.
3. Enable code scanning where applicable:
    - For most languages, use GitHub CodeQL or SonarCloud.
    - For Terraform, use tenable/Terrascan.
    - For generic cases, use aquasecurity/trivy.
4. If your desired workflow is not whitelisted, contact the SRE team to request approval.

## Warnings or Important Notes

- Do NOT overload your pipeline with inline scripts. Externalize complex logic.
- Only whitelisted workflows are allowed; non-whitelisted workflows require SRE approval.
- Container-based workflows have limited runner support.

## Key Concepts

- **CI/CD Pipeline:** Automated process for continuous integration and delivery of software.
- **Code scanning:** Automated analysis of codebase for vulnerabilities and quality issues.
- **Workflow:** A series of automated steps run by GitHub Actions to build, test, or deploy code.
- **Whitelisting:** Administrative process of approving specific workflows for organizational use.
- **VM runners:** Virtual machines executing workflows; required for container-based actions.